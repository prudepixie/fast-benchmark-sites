<div id="container">
    <% data.forEach( (user) => { -%>
        <div class="card-container">
            <teemo-card 
                firstName=<%= user.first_name%> 
                lastName=<%= user.last_name%> 
                email=<%= user.email%>
                gender=<%= user.gender %>
                ip_address=<%= user.ip_address %>
                >
            </teemo-card>
        </div>
    <% }) -%>
</div>
<script type="module">
    export class Card extends HTMLElement {
        constructor() {
            super();

            this.attachShadow({ mode: 'open' });
            const card = document.createElement('div'),
                header = document.createElement('h1'),
                paragraph = document.createElement('p'),
                paragraph2 = document.createElement('p'),
                paragraph3 = document.createElement('p'),
                breakLine = document.createElement('hr'),
                buttonContainer = document.createElement('div'),
                button1 = document.createElement('button'),
                button2 = document.createElement('button')

            button1.textContent = 'Cancel'
            button2.textContent = 'Ok'
            buttonContainer.append(button1, button2)

            header.textContent = this.getAttribute('firstName') + ' ' + this.getAttribute('lastName')
            paragraph.textContent = this.getAttribute('email')
            paragraph2.textContent = this.getAttribute('gender')
            paragraph3.textContent = this.getAttribute('ip_address')

            card.setAttribute('class', 'card')
            card.append(header, paragraph, paragraph2, paragraph3, breakLine, buttonContainer)

            this.shadowRoot.append(card)
        }
    }
    customElements.define('teemo-card', Card)
</script>